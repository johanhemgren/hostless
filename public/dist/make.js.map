{
  "version": 3,
  "sources": ["../make.js"],
  "sourcesContent": ["document.addEventListener('DOMContentLoaded', function() {\n  const form = document.forms[0];\n  const submitButton = form.querySelector('[type=\"submit\"]');\n  \n  const toggleSubmit = (toggle=false) => {\n    submitButton[!toggle ? 'setAttribute' : 'removeAttribute']('disabled', !toggle);\n    submitButton.classList[!toggle ? 'add' : 'remove']('pointer-events-none', 'cursor-auto', 'border-gray-200', 'text-gray-200')\n    submitButton.classList[toggle ? 'add' : 'remove']('border-indigo-500', 'hover:border-indigo-600', 'text-indigo-500', 'hover:text-indigo-600');\n  }\n  \n  const toggleFormVisibility = (toggle=false) => {\n    form.style.opacity = toggle ? '1' : '0';\n\n    return new Promise(resolve => setTimeout(() => resolve(), 500));\n  }\n  \n  const getFormData = (formElement) => {\n    const formData = new FormData(formElement);\n    const entries = formData.entries();\n  \n    return Object.fromEntries(entries);\n  }\n\n  const viewResult = async (html, element) => {\n    if (!html) {\n      await toggleFormVisibility(true);\n\n      return;\n    };\n\n    const responseMessage = document.createElement('div');\n    const elementHeight = element.getBoundingClientRect().height;\n  \n    responseMessage.classList.add('text-center');\n    responseMessage.innerHTML = html;\n    \n    element.style.height = `${elementHeight}px`;\n\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n\n    element.appendChild(responseMessage);\n    toggleFormVisibility(true);\n  }\n  \n  const postData = async form => {\n    await toggleFormVisibility(false);\n\n    const data = getFormData(form);\n\n    const response = await fetch('make', {\n      method: 'POST',\n      mode: 'no-cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: {'Content-Type': 'application/json'},\n      referrerPolicy: 'no-referrer',\n      body: JSON.stringify(data),\n    }).catch(error => {\n      toggleFormVisibility(true);\n      console.warn(error);\n    });\n  \n    const {html=null} = await response.json();\n\n    viewResult(html, form);\n  }\n  \n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n  \n    toggleSubmit(false);\n    postData(e.target);\n  });\n  \n  toggleSubmit(true);\n}, false);"],
  "mappings": "MAAA,SAAS,iBAAiB,mBAAoB,UAAW,CACvD,GAAM,GAAO,SAAS,MAAM,GACtB,EAAe,EAAK,cAAc,mBAElC,EAAe,CAAC,EAAO,KAAU,CACrC,EAAa,AAAC,EAA0B,kBAAjB,gBAAoC,WAAY,CAAC,GACxE,EAAa,UAAU,AAAC,EAAiB,SAAR,OAAkB,sBAAuB,cAAe,kBAAmB,iBAC5G,EAAa,UAAU,EAAS,MAAQ,UAAU,oBAAqB,0BAA2B,kBAAmB,0BAGjH,EAAuB,CAAC,EAAO,KACnC,GAAK,MAAM,QAAU,EAAS,IAAM,IAE7B,GAAI,SAAQ,GAAW,WAAW,IAAM,IAAW,OAGtD,EAAc,AAAC,GAAgB,CAEnC,GAAM,GAAU,AADC,GAAI,UAAS,GACL,UAEzB,MAAO,QAAO,YAAY,IAGtB,EAAa,MAAO,EAAM,IAAY,CAC1C,GAAI,CAAC,EAAM,CACT,KAAM,GAAqB,IAE3B,OAGF,GAAM,GAAkB,SAAS,cAAc,OACzC,EAAgB,EAAQ,wBAAwB,OAOtD,IALA,EAAgB,UAAU,IAAI,eAC9B,EAAgB,UAAY,EAE5B,EAAQ,MAAM,OAAS,GAAG,MAEnB,EAAQ,YACb,EAAQ,YAAY,EAAQ,YAG9B,EAAQ,YAAY,GACpB,EAAqB,KAGjB,EAAW,KAAM,IAAQ,CAC7B,KAAM,GAAqB,IAE3B,GAAM,GAAO,EAAY,GAEnB,EAAW,KAAM,OAAM,OAAQ,CACnC,OAAQ,OACR,KAAM,UACN,MAAO,WACP,YAAa,cACb,QAAS,CAAC,eAAgB,oBAC1B,eAAgB,cAChB,KAAM,KAAK,UAAU,KACpB,MAAM,GAAS,CAChB,EAAqB,IACrB,QAAQ,KAAK,KAGT,CAAC,OAAK,MAAQ,KAAM,GAAS,OAEnC,EAAW,EAAM,IAGnB,EAAK,iBAAiB,SAAU,KAAM,IAAK,CACzC,EAAE,iBAEF,EAAa,IACb,EAAS,EAAE,UAGb,EAAa,KACZ",
  "names": []
}
